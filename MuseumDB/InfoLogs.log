info: 04.01.2023 00:19:03.624 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT 1
info: 04.01.2023 00:19:03.707 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: 04.01.2023 00:19:03.711 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT 1
info: 04.01.2023 00:19:03.711 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: 04.01.2023 00:19:03.737 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [MigrationId], [ProductVersion]
      FROM [__EFMigrationsHistory]
      ORDER BY [MigrationId];
info: 04.01.2023 00:19:03.985 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (118ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [Museums] (
          [Adress] nvarchar(450) NOT NULL,
          [Name] nvarchar(450) NOT NULL,
          [Count_of_employees] int NOT NULL,
          [Count_of_exhibit] int NOT NULL,
          [Count_of_hall] int NOT NULL,
          CONSTRAINT [PK_Museums] PRIMARY KEY ([Adress]),
          CONSTRAINT [AK_Museums_Name] UNIQUE ([Name])
      );
info: 04.01.2023 00:19:04.076 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (91ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [Halls] (
          [HallID] int NOT NULL IDENTITY,
          [Adress_of_museum] nvarchar(450) NOT NULL,
          [Type_of_hall] nvarchar(max) NOT NULL,
          [Count_of_exhibit] int NOT NULL,
          CONSTRAINT [PK_Halls] PRIMARY KEY ([HallID]),
          CONSTRAINT [FK_Halls_Museums_Adress_of_museum] FOREIGN KEY ([Adress_of_museum]) REFERENCES [Museums] ([Adress]) ON DELETE NO ACTION
      );
info: 04.01.2023 00:19:04.084 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [Persons] (
          [ID] int NOT NULL IDENTITY,
          [FName] nvarchar(max) NOT NULL,
          [LName] nvarchar(max) NOT NULL,
          [Age] int NOT NULL,
          [Discriminator] nvarchar(max) NOT NULL,
          [Status] nvarchar(max) NULL,
          [Mobile_number] nvarchar(max) NULL,
          [Adress_of_museum] nvarchar(450) NULL,
          [Position] nvarchar(max) NULL DEFAULT N'Staff',
          [Salary] int NULL,
          CONSTRAINT [PK_Persons] PRIMARY KEY ([ID]),
          CONSTRAINT [CH_Salary] CHECK (Salary > 14999),
          CONSTRAINT [FK_Persons_Museums_Adress_of_museum] FOREIGN KEY ([Adress_of_museum]) REFERENCES [Museums] ([Adress]) ON DELETE NO ACTION
      );
info: 04.01.2023 00:19:04.088 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [Exhibits] (
          [ExhibitID] int NOT NULL IDENTITY,
          [HallID] int NOT NULL,
          [Name] nvarchar(max) NOT NULL,
          [Cost] decimal(18,2) NOT NULL,
          [Storage_conditions] nvarchar(max) NOT NULL,
          CONSTRAINT [PK_Exhibits] PRIMARY KEY ([ExhibitID]),
          CONSTRAINT [FK_Exhibits_Halls_HallID] FOREIGN KEY ([HallID]) REFERENCES [Halls] ([HallID]) ON DELETE NO ACTION
      );
info: 04.01.2023 00:19:04.106 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [Tickects] (
          [TicketID] int NOT NULL IDENTITY,
          [ClientID] int NOT NULL,
          [Adress_of_museum] nvarchar(450) NOT NULL,
          [WorkerID] int NOT NULL,
          [Date] datetime2 NOT NULL,
          [Cost] decimal(18,2) NOT NULL,
          CONSTRAINT [PK_Tickects] PRIMARY KEY ([TicketID]),
          CONSTRAINT [FK_Tickects_Museums_Adress_of_museum] FOREIGN KEY ([Adress_of_museum]) REFERENCES [Museums] ([Adress]) ON DELETE NO ACTION,
          CONSTRAINT [FK_Tickects_Persons_ClientID] FOREIGN KEY ([ClientID]) REFERENCES [Persons] ([ID]) ON DELETE NO ACTION,
          CONSTRAINT [FK_Tickects_Persons_WorkerID] FOREIGN KEY ([WorkerID]) REFERENCES [Persons] ([ID]) ON DELETE NO ACTION
      );
info: 04.01.2023 00:19:04.115 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_Exhibits_HallID] ON [Exhibits] ([HallID]);
info: 04.01.2023 00:19:04.117 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_Halls_Adress_of_museum] ON [Halls] ([Adress_of_museum]);
info: 04.01.2023 00:19:04.119 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_Persons_Adress_of_museum] ON [Persons] ([Adress_of_museum]);
info: 04.01.2023 00:19:04.121 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_Tickects_Adress_of_museum] ON [Tickects] ([Adress_of_museum]);
info: 04.01.2023 00:19:04.123 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_Tickects_ClientID] ON [Tickects] ([ClientID]);
info: 04.01.2023 00:19:04.126 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_Tickects_WorkerID] ON [Tickects] ([WorkerID]);
info: 04.01.2023 00:19:04.186 RelationalEventId.CommandExecuted[20101] (Microsoft.EntityFrameworkCore.Database.Command) 
      Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
      VALUES (N'20230103221855_init', N'7.0.1');
